# 变量

## 变量类型

1. 局部变量： 局部变量在脚本或命令中定义，仅在当前shell实例中有效，其他shell启动的程序不能访问局部变量。
2. 环境变量：所有的程序，包括shell启动的程序，都能访问环境变量，有些程序需要环境变量来保证其正常运行。必要的时候shell脚本也可以定义环境变量。
3. shell变量：shell变量是由shell程序设置的特殊变量。shell变量中有一部分是环境变量，有一部分是局部变量，这些变量保证了shell的正常运行

## 定义变量

```shell
变量名=变量值
```

* 变量名和值之前不能有空格
* 不用分号结尾
* 命名只能使用英文字母，数字和下划线，首个字符不能以数字开头
* 中间不能有空格，可以使用下划线（_）
* 不能使用标点符号
* 不能使用bash里的关键字（可用help命令查看保留关键字）

## 使用变量

使用一个定义过的变量，只要在变量名前面加美元符号`$`即可

```shell
echo $变量名
echo ${变量名}
```

变量名外面的花括号是可选的，加不加都行，加花括号是为了帮助解释器识别变量的边界

## 只读变量

使用 `readonly` 命令可以将变量定义为只读变量，只读变量的值不能被改变。

```shell
变量名=变量值
readonly 变量名
```

## 删除变量

使用 `unset` 命令可以删除变量。

```shell
unset 变量名
```



```shell
#!/bin/bash

a=1
b="b"
readonly c=3

echo $a
echo ${b}
echo $c
c=4
```

> 1
> b
> 3
> ./var.sh: line 10: c: readonly variable

## 系统变量

### 常用系统变量

`$HOME`、`$PWD`、`$SHELL`、`$USER`等

```shell
#!/bin/bash

echo $HOME
echo $PWD
echo $SHELL
echo $USER
```

> /Users/simple
> /Users/simple/Desktop/WorkSpace/KeepLearning/Shell/3.变量
> /bin/zsh
> simple

### 显示当前Shell中的所有变量：`set`

```shell
$ set
'!'=0
'#'=0
'$'=1104
'*'=(  )
-=569JNRXZghiklms
0=-zsh
```

## 特殊变量

### $n

描述：n为数字，`$0`代表该脚本名称，`$1-$9`代表第一到第九个参数，十以上的参数需要用大括号包含，`${10}`

### $#

描述：获取所有输入参数的个数，常用于循环。

### `$*`,`$@`

`$*`：这个变量代表命令行中所有的参数，`$*`把所有参数看成一个整体。

`$@`：这个变量也代表命令行中所有的参数，`$@`把每个参数区分对待。

### $?

描述：最后一次执行的命令的返回状态，如果这个变量的值为0，证明上一次命令正确执行。如果这个变量的值为非0（具体是哪个数，由命令自己来决定），则证明上一个命令执行不正确了。

