<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
      <link rel="shortcut icon" href="../../img/favicon.ico" />
    <title>FFmpeg-å…¬å¸æŠ€æœ¯åˆ†äº« - KeepLearning</title>
    <link rel="stylesheet" href="../../css/theme.css" />
    <link rel="stylesheet" href="../../css/theme_extra.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/styles/github.min.css" />
    
      <script>
        // Current page data
        var mkdocs_page_name = "FFmpeg-\u516c\u53f8\u6280\u672f\u5206\u4eab";
        var mkdocs_page_input_path = "\u5176\u4ed6/\u79fb\u52a8\u7aef\u97f3\u89c6\u9891\u5165\u95e8-FFmpeg(\u516c\u53f8\u6280\u672f\u5206\u4eab).md";
        var mkdocs_page_url = null;
      </script>
    
    <script src="../../js/jquery-3.6.0.min.js" defer></script>
    <!--[if lt IE 9]>
      <script src="../../js/html5shiv.min.js"></script>
    <![endif]-->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/highlight.min.js"></script>
      <script>hljs.initHighlightingOnLoad();</script> 
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
          <a href="../.." class="icon icon-home"> KeepLearning
        </a><div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../../search.html" method="get">
      <input type="text" name="q" placeholder="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../..">ä¸€ä¸ªå¤§ä¸“ğŸ¶çš„å­¦ä¹ è®°å½•</a>
                </li>
              </ul>
              <p class="caption"><span class="caption-text">C++</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="#">C++å­¦ä¹ ç¬”è®°</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="../../C%2B%2B/C%2B%2B%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/HelloWorld/">HelloWorld</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../C%2B%2B/C%2B%2B%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/Reference/">Reference</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../C%2B%2B/C%2B%2B%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/%E5%87%BD%E6%95%B0/">å‡½æ•°</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../C%2B%2B/C%2B%2B%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/%E5%8A%A8%E6%80%81%E5%86%85%E5%AD%98/">åŠ¨æ€å†…å­˜</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../C%2B%2B/C%2B%2B%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/%E5%8F%98%E9%87%8F%E5%92%8C%E5%B8%B8%E9%87%8F/">å˜é‡å’Œå¸¸é‡</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../C%2B%2B/C%2B%2B%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/%E5%91%BD%E5%90%8D%E7%A9%BA%E9%97%B4/">å‘½åç©ºé—´</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../C%2B%2B/C%2B%2B%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/%E5%AD%97%E7%AC%A6%E4%B8%B2/">å­—ç¬¦ä¸²</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../C%2B%2B/C%2B%2B%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/%E5%BC%82%E5%B8%B8%E5%A4%84%E7%90%86/">å¼‚å¸¸å¤„ç†</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../C%2B%2B/C%2B%2B%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/%E5%BC%95%E7%94%A8/">å¼•ç”¨</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../C%2B%2B/C%2B%2B%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/%E6%8C%87%E9%92%88/">æŒ‡é’ˆ</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../C%2B%2B/C%2B%2B%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B/">æ•°æ®ç±»å‹</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../C%2B%2B/C%2B%2B%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/%E6%9E%9A%E4%B8%BE/">æšä¸¾</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../C%2B%2B/C%2B%2B%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/%E6%A8%A1%E6%9D%BF-%E6%B3%9B%E5%9E%8B/">æ¨¡æ¿ æ³›å‹</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../C%2B%2B/C%2B%2B%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/%E6%B3%A8%E9%87%8A/">æ³¨é‡Š</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../C%2B%2B/C%2B%2B%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/%E7%AE%80%E4%BB%8B/">ç®€ä»‹</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../C%2B%2B/C%2B%2B%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/%E7%BB%93%E6%9E%84%E4%BD%93/">ç»“æ„ä½“</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../C%2B%2B/C%2B%2B%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/%E9%80%BB%E8%BE%91%E6%8E%A7%E5%88%B6%E5%92%8C%E9%81%8D%E5%8E%86/">é€»è¾‘æ§åˆ¶å’Œéå†</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../C%2B%2B/C%2B%2B%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1/">é¢å‘å¯¹è±¡</a>
                </li>
    </ul>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Cè¯­è¨€</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="#">Cè¯­è¨€å­¦ä¹ ç¬”è®°</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="../../C%E8%AF%AD%E8%A8%80/C%E8%AF%AD%E8%A8%80%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/HelloWorld/">HelloWorld</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../C%E8%AF%AD%E8%A8%80/C%E8%AF%AD%E8%A8%80%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/Reference/">Reference</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../C%E8%AF%AD%E8%A8%80/C%E8%AF%AD%E8%A8%80%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/%E4%BD%8D%E8%BF%90%E7%AE%97/">ä½è¿ç®—</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../C%E8%AF%AD%E8%A8%80/C%E8%AF%AD%E8%A8%80%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/%E5%87%BD%E6%95%B0/">å‡½æ•°</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../C%E8%AF%AD%E8%A8%80/C%E8%AF%AD%E8%A8%80%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/%E5%8F%98%E9%87%8F/">å˜é‡</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../C%E8%AF%AD%E8%A8%80/C%E8%AF%AD%E8%A8%80%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/%E5%AD%97%E7%AC%A6%E4%B8%B2/">å­—ç¬¦ä¸²</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../C%E8%AF%AD%E8%A8%80/C%E8%AF%AD%E8%A8%80%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/%E5%B8%B8%E9%87%8F/">å¸¸é‡</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../C%E8%AF%AD%E8%A8%80/C%E8%AF%AD%E8%A8%80%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/%E6%8C%87%E9%92%88/">æŒ‡é’ˆ</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../C%E8%AF%AD%E8%A8%80/C%E8%AF%AD%E8%A8%80%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B/">æ•°æ®ç±»å‹</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../C%E8%AF%AD%E8%A8%80/C%E8%AF%AD%E8%A8%80%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/%E6%95%B0%E7%BB%84/">æ•°ç»„</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../C%E8%AF%AD%E8%A8%80/C%E8%AF%AD%E8%A8%80%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/%E6%9E%9A%E4%B8%BE/">æšä¸¾</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../C%E8%AF%AD%E8%A8%80/C%E8%AF%AD%E8%A8%80%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/%E6%B3%A8%E9%87%8A/">æ³¨é‡Š</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../C%E8%AF%AD%E8%A8%80/C%E8%AF%AD%E8%A8%80%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/%E7%AE%80%E4%BB%8B/">ç®€ä»‹</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../C%E8%AF%AD%E8%A8%80/C%E8%AF%AD%E8%A8%80%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/%E7%BB%93%E6%9E%84%E4%BD%93/">ç»“æ„ä½“</a>
                </li>
    </ul>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Docker</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../../Docker/Docker%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/">Dockerå­¦ä¹ ç¬”è®°</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Shell</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="#">Shellå­¦ä¹ ç¬”è®°</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="../../Shell/shell%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/01.%E7%AE%80%E4%BB%8B/">ç®€ä»‹</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../Shell/shell%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/02.%E6%B3%A8%E9%87%8A/">æ³¨é‡Š</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../Shell/shell%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/03.%E5%8F%98%E9%87%8F/">å˜é‡</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../Shell/shell%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/04.%E5%AD%97%E7%AC%A6%E4%B8%B2/">å­—ç¬¦ä¸²</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../Shell/shell%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/05.%E6%95%B0%E7%BB%84/">æ•°ç»„</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../Shell/shell%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/06.%E8%BF%90%E7%AE%97%E7%AC%A6/">è¿ç®—ç¬¦</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../Shell/shell%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/07.%E6%B5%81%E7%A8%8B%E6%8E%A7%E5%88%B6/">æµç¨‹æ§åˆ¶</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../Shell/shell%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/08.%E5%87%BD%E6%95%B0/">å‡½æ•°</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../Shell/shell%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/09.%E8%BE%93%E5%85%A5%E5%92%8C%E8%BE%93%E5%87%BA/">è¾“å…¥å’Œè¾“å‡º</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../Shell/shell%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/10.%E5%90%91Shell%E8%84%9A%E6%9C%AC%E4%BC%A0%E9%80%92%E5%8F%82%E6%95%B0/">å‘Shellè„šæœ¬ä¼ é€’å‚æ•°</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../Shell/shell%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/11.%E6%96%87%E4%BB%B6%E5%8C%85%E5%90%AB/">æ–‡ä»¶åŒ…å«</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../Shell/shell%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/12.Shell%E5%B7%A5%E5%85%B7/">Shellå·¥å…·</a>
                </li>
    </ul>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Css</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../../css/CSS3%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/">CSS3å­¦ä¹ ç¬”è®°</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../css/CSS%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/">CSSå­¦ä¹ ç¬”è®°</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Git</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../../git/Git%E9%80%9F%E6%9F%A5%E8%A1%A8/">Gité€ŸæŸ¥è¡¨</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Go</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../../go/%5B%E8%AF%91%5DLearning%20Go%20-%20from%20zero%20to%20hero/">[è¯‘]Learning Go - from zero to hero</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Groovy</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../../groovy/Groovy%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/">Groovyå­¦ä¹ ç¬”è®°</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Html</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../../html/HTML5%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/">HTML5å­¦ä¹ ç¬”è®°</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../html/HTML%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/">HTMLå­¦ä¹ ç¬”è®°</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Javascript</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../../javascript/JavaScript%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/">åŸºæœ¬è¯­æ³•</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Mysql</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../../mysql/MySQL%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/">MySQLå­¦ä¹ ç¬”è®°</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Python</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../../python/Python%20%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/">Pythonå­¦ä¹ ç¬”è®°</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">å…¶ä»–</span></p>
              <ul class="current">
                  <li class="toctree-l1"><a class="reference internal" href="../HenCoder-5%E6%9C%9F-%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/">HenCoder-5æœŸ-å­¦ä¹ ç¬”è®°</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../MacOS%2010.10%20%E4%BB%A5%E4%B8%8A%E8%A7%A3%E5%86%B3%E6%9C%BA%E6%A2%B0%E9%94%AE%E7%9B%98%E6%8C%89%E9%94%AE%E6%97%A0%E6%B3%95%E8%AF%86%E5%88%AB/">MacOS 10.10 ä»¥ä¸Šè§£å†³æœºæ¢°é”®ç›˜æŒ‰é”®æ— æ³•è¯†åˆ«</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../%E6%9E%81%E5%AE%A2%E6%97%B6%E9%97%B4%20TensorFlow/">æå®¢æ—¶é—´ TensorFlow</a>
                  </li>
                  <li class="toctree-l1 current"><a class="reference internal current" href="./">FFmpeg-å…¬å¸æŠ€æœ¯åˆ†äº«</a>
    <ul class="current">
    <li class="toctree-l2"><a class="reference internal" href="#ffmpeg">ä»€ä¹ˆæ˜¯FFmpeg</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#ffmpeg_1">FFmpegä¸»è¦ç»„æˆç»„ä»¶</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#ffmpeg_2">FFmpegå‘½ä»¤é›†çš„å¸¸ç”¨å‚æ•°</a>
        <ul>
    <li class="toctree-l3"><a class="reference internal" href="#_1">å¸¸ç”¨å‚æ•°</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#_2">å½±åƒå‚æ•°</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#_3">å£°éŸ³å‚æ•°</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#_4">å¸¸ç”¨å‘½ä»¤</a>
        <ul>
    <li class="toctree-l3"><a class="reference internal" href="#_5">æŸ¥çœ‹åª’ä½“ä¿¡æ¯</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#_6">æ’­æ”¾åª’ä½“æ–‡ä»¶</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#_7">ä¸‹è½½ç½‘ç»œåª’ä½“åˆ°æœ¬åœ°</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#_8">è½¬æ¢åª’ä½“æ ¼å¼</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#_9">è£å‰ªåª’ä½“æ–‡ä»¶</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#gif">è§†é¢‘è½¬gif</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#_10">ä»è§†é¢‘æ–‡ä»¶æˆªå–ä¸€å¸§è½¬ä¸ºå›¾ç‰‡</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#gif_1">å°†ä¸€ç³»åˆ—å›¾ç‰‡åˆæˆgif</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#_11">åˆ†ç¦»è§†é¢‘éŸ³é¢‘æµ</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#_12">å°†è§†é¢‘å’ŒéŸ³é¢‘åˆå¹¶</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#_13">éŸ³è§†é¢‘å€’æ”¾</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#_14">éŸ³è§†é¢‘ç¼–è§£ç æµç¨‹</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#_15">å¸¸ç”¨ç»“æ„ä½“ä»‹ç»</a>
        <ul>
    <li class="toctree-l3"><a class="reference internal" href="#avformatcontext">AVFormatContext</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#avinputformat">AVInputFormat</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#avcodeccontext">AVCodecContext</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#avcodec">AVCodec</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#avstream">AVStream</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#avpacket">AVPacket</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#avframe">AVFrame</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#_16">å¸¸ç”¨æ–¹æ³•ä»‹ç»</a>
        <ul>
    <li class="toctree-l3"><a class="reference internal" href="#av_register_all">av_register_all</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#avformat_alloc_context">avformat_alloc_context</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#avformat_open_input">avformat_open_input</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#av_guess_format">av_guess_format</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#avformat_new_stream">avformat_new_stream</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#av_read_frame">av_read_frame</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#av_write_frame">av_write_frame</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#_17">ä»£ç ç¤ºä¾‹</a>
    </li>
    </ul>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">æ•°æ®ç»“æ„</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../../%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/01.%E7%BA%BF%E6%80%A7%E8%A1%A8-list/">çº¿æ€§è¡¨-List</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/02.%E6%A0%88-stack/">æ ˆ-Stack</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/03.%E9%98%9F%E5%88%97-queue/">é˜Ÿåˆ—-queue</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/04.%E5%AD%97%E7%AC%A6%E4%B8%B2-string/">å­—ç¬¦ä¸²-string</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">ç®—æ³•</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../../%E7%AE%97%E6%B3%95/10%E5%A4%A7%E7%BB%8F%E5%85%B8%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%95/">åå¤§ç»å…¸æ’åºç®—æ³•</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">è‹±è¯­</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../../%E8%8B%B1%E8%AF%AD/%E8%8B%B1%E8%AF%AD%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/">è¯­æ³•å­¦ä¹ ç¬”è®°</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">è®¡ç®—æœºç½‘ç»œ</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../../%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/">è®¡ç®—æœºç½‘ç»œå­¦ä¹ ç¬”è®°</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">è®¾è®¡æ¨¡å¼</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../../%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/">è®¾è®¡æ¨¡å¼å­¦ä¹ ç¬”è®°</a>
                  </li>
              </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
      <nav class="wy-nav-top" role="navigation" aria-label="Mobile navigation menu">
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../..">KeepLearning</a>
        
      </nav>
      <div class="wy-nav-content">
        <div class="rst-content"><div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../.." class="icon icon-home" alt="Docs"></a> &raquo;</li>
          <li>å…¶ä»– &raquo;</li><li>FFmpeg-å…¬å¸æŠ€æœ¯åˆ†äº«</li>
    <li class="wy-breadcrumbs-aside">
        <a href="https://github.com/simplepeng/KeepLearning/edit/master/docs/å…¶ä»–/ç§»åŠ¨ç«¯éŸ³è§†é¢‘å…¥é—¨-FFmpeg(å…¬å¸æŠ€æœ¯åˆ†äº«).md"
          class="icon icon-github"> Edit on GitHub</a>
    </li>
  </ul>
  <hr/>
</div>

          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
            <div class="section" itemprop="articleBody">
              
                <h1 id="ffmpeg-">FFmpeg-å…¬å¸æŠ€æœ¯åˆ†äº«</h1>
<h2 id="ffmpeg">ä»€ä¹ˆæ˜¯FFmpeg</h2>
<p>githubåœ°å€ï¼š<a href="https://github.com/FFmpeg/FFmpeg">https://github.com/FFmpeg/FFmpeg</a></p>
<p>FFmpegå®˜ç½‘ï¼š<a href="https://ffmpeg.org/">https://ffmpeg.org/</a></p>
<p><code>FFmpeg</code>æ˜¯ä¸€å¥—å¯ä»¥ç”¨æ¥åšéŸ³è§†é¢‘<code>é‡‡é›†</code>ï¼Œ<code>è£å‰ª</code>,<code>è½¬æ¢</code>ï¼Œ<code>æ¨æµ</code>ç­‰æ“ä½œçš„<code>å¼€æºè®¡ç®—æœºç¨‹åº</code>ã€‚é‡‡ç”¨LGPLæˆ–GPLè®¸å¯è¯ï¼Œå®ƒæä¾›äº†å½•åˆ¶ã€è½¬æ¢ä»¥åŠæµåŒ–éŸ³è§†é¢‘çš„å®Œæ•´è§£å†³æ–¹æ¡ˆã€‚</p>
<p>å›½å†…è€³ç†Ÿèƒ½è¯¦çš„<code>æš´é£å½±éŸ³</code>ã€<code>QQå½±éŸ³</code>ï¼Œä»¥åŠå›½å¤–è‘—åçš„<code>KMPlayer</code>ã€<code>PotPlayer</code>ï¼Œéƒ½é‡‡ç”¨äº†FFmpegçš„ä»£ç ä½†å´ä¸æŒ‰è§„çŸ©å¼€æºï¼Œè¢«æ”¾å…¥äº†FFmpegçš„è€»è¾±åå•å½“ä¸­ã€‚</p>
<h2 id="ffmpeg_1">FFmpegä¸»è¦ç»„æˆç»„ä»¶</h2>
<ul>
<li><code>ffmpeg</code>ï¼šä¸€ä¸ªå‘½ä»¤è¡Œå·¥å…·ï¼Œç”¨æ¥å¯¹è§†é¢‘ï¼ŒéŸ³é¢‘æ–‡ä»¶æ‰§è¡Œ<code>å‰ªè¾‘</code>ï¼Œ<code>è½¬æ¢æ ¼å¼</code>ï¼Œ<code>æ—‹è½¬</code>ï¼Œ<code>æ·»åŠ æ»¤é•œ</code>ç­‰æ“ä½œçš„æŒ‡ä»¤é›†</li>
<li><code>ffserver</code>ï¼šä¸€ä¸ªHTTPå¤šåª’ä½“å³æ—¶å¹¿æ’­æµæœåŠ¡å™¨ï¼Œæ”¯æŒå›æº¯</li>
<li><code>ffplay</code>ï¼šä¸€ä¸ªç®€å•çš„æ’­æ”¾å™¨ï¼ŒåŸºäºSDLä¸FFmpegåº“</li>
<li><code>libavcodec</code>ï¼šåŒ…å«å…¨éƒ¨FFmpegéŸ³é¢‘/è§†é¢‘ç¼–è§£ç åº“</li>
<li><code>libavformat</code>ï¼šåŒ…å«demuxerså’Œmuxerå°è£…æ ¼å¼åº“</li>
<li><code>libavutil</code>ï¼šffmpegä¸€ä¸ªå·¥å…·åº“</li>
<li><code>libavfilter</code>ï¼šåŠ filterçš„åº“(è¿™é‡Œç¿»è¯‘æˆæ»¤é•œä¸å¤ªä¸¥è°¨)</li>
<li><code>libswscale</code>ï¼šå¯¹å›¾åƒåšè½¬æ¢æ¯”ä¾‹(ç¼©æ”¾)çš„åº“</li>
<li><code>libavresample</code>ï¼šåšé‡é‡‡æ ·çš„åº“</li>
<li><code>libavdevice</code>ï¼šä½¿ç”¨è¿™ä¸ªåº“å¯ä»¥è¯»å–ç”µè„‘ï¼ˆæˆ–è€…å…¶ä»–è®¾å¤‡ä¸Šï¼‰çš„å¤šåª’ä½“è®¾å¤‡çš„æ•°æ®ï¼Œæˆ–è€…è¾“å‡ºæ•°æ®åˆ°æŒ‡å®šçš„å¤šåª’ä½“è®¾å¤‡ä¸Š</li>
</ul>
<h2 id="ffmpeg_2">FFmpegå‘½ä»¤é›†çš„å¸¸ç”¨å‚æ•°</h2>
<p>FFmpegå¯ä½¿ç”¨ä¼—å¤šå‚æ•°ï¼Œå‚æ•°å†…å®¹ä¼šæ ¹æ®ffmpegç‰ˆæœ¬è€Œæœ‰å·®å¼‚ï¼Œä½¿ç”¨å‰å»ºè®®å…ˆå‚è€ƒå‚æ•°åŠç¼–è§£ç å™¨çš„å™è¿°ã€‚</p>
<p>ä¹Ÿå¯ä»¥ä½¿ç”¨<code>ffmpeng -h</code>å‘½ä»¤æŸ¥çœ‹</p>
<h3 id="_1">å¸¸ç”¨å‚æ•°</h3>
<ul>
<li><code>-i</code>ï¼šè®¾ç½®è¾“å…¥æºï¼Œå¯ä»¥æ˜¯æ–‡ä»¶ï¼Œä¹Ÿå¯ä»¥æ˜¯ç½‘ç»œæµæ–‡ä»¶</li>
<li><code>-f</code>ï¼šè®¾ç½®è¾“å‡ºæ ¼å¼</li>
<li><code>-y</code>ï¼šè‹¥è¾“å‡ºæ–‡ä»¶å·²ç»å­˜åœ¨å°±è¦†ç›–</li>
<li><code>-fs</code>ï¼šè¶…è¿‡æŒ‡å®šçš„æ–‡ä»¶çš„æŒç»­æ—¶é—´å°±ç»“æŸ</li>
<li><code>-ss</code>ï¼šä»æŒ‡å®šæ—¶é—´å¼€å§‹ï¼Œä¸€èˆ¬æ ¼å¼ä¸º<code>00:00:00</code>ï¼Œä¹Ÿå¯ä»¥æ˜¯<code>å¤šå°‘ç§’</code></li>
<li><code>-t</code>ï¼šæŒ‡ä»¤çš„æŒç»­æ—¶é—´</li>
<li><code>-title</code>ï¼šè®¾ç½®åª’ä½“æ–‡ä»¶çš„æ ‡é¢˜</li>
<li><code>-c</code>ï¼šæŒ‡å®šè¾“å‡ºæ–‡ä»¶çš„ç¼–ç </li>
<li><code>-metadata</code>ï¼šæ›´æ”¹è¾“å‡ºæ–‡ä»¶çš„<code>å…ƒæ•°æ®</code></li>
</ul>
<h3 id="_2">å½±åƒå‚æ•°</h3>
<ul>
<li><code>-b:v</code>â€”â€”è®¾ç½®å½±åƒæµé‡ï¼Œé»˜è®¤ä¸º200Kbit/ç§’ã€‚</li>
<li><code>-r</code>â€”â€”è®¾ç½®å¸§ç‡å€¼ï¼Œé»˜è®¤ä¸º25ã€‚</li>
<li><code>-s</code>â€”â€”è®¾ç½®ç”»é¢çš„å®½ä¸é«˜ã€‚</li>
<li><code>-aspect</code>â€”â€”è®¾ç½®ç”»é¢çš„æ¯”ä¾‹ã€‚</li>
<li><code>-vn</code>â€”â€”ä¸å¤„ç†å½±åƒï¼Œäºä»…é’ˆå¯¹å£°éŸ³åšå¤„ç†æ—¶ä½¿ç”¨ã€‚</li>
<li><code>-vcodec( -c:v )</code>â€”â€”è®¾ç½®å½±åƒå½±åƒç¼–è§£ç å™¨ï¼Œæœªè®¾ç½®æ—¶åˆ™ä½¿ç”¨ä¸è¾“å…¥æ–‡ä»¶ç›¸åŒä¹‹ç¼–è§£ç å™¨ã€‚</li>
</ul>
<h3 id="_3">å£°éŸ³å‚æ•°</h3>
<ul>
<li><code>-b:a</code>â€”â€”è®¾ç½®æ¯ä¸ª<code>Channel</code>çš„æµé‡ï¼ˆchanelå¯ä»¥ç†è§£ä¸ºå£°é“æ•°ï¼Œå·¦å£°é“ï¼Œå³å£°é“è¿™ç§ï¼‰</li>
<li><code>-ar</code>â€”â€”è®¾ç½®é‡‡æ ·ç‡ã€‚</li>
<li><code>-ac</code>â€”â€”è®¾ç½®å£°éŸ³çš„<code>Channel</code>æ•°ã€‚</li>
<li><code>-acodec ( -c:a )</code> â€”â€”è®¾ç½®å£°éŸ³ç¼–è§£ç å™¨ï¼Œæœªè®¾ç½®æ—¶ä¸å½±åƒç›¸åŒï¼Œä½¿ç”¨ä¸è¾“å…¥æ–‡ä»¶ç›¸åŒä¹‹ç¼–è§£ç å™¨ã€‚</li>
<li><code>-an</code>â€”â€”ä¸å¤„ç†å£°éŸ³ï¼Œäºä»…é’ˆå¯¹å½±åƒåšå¤„ç†æ—¶ä½¿ç”¨ã€‚</li>
<li><code>-vol</code>â€”â€”è®¾ç½®éŸ³é‡å¤§å°ï¼Œ256ä¸ºæ ‡å‡†éŸ³é‡ã€‚ï¼ˆè¦è®¾ç½®æˆä¸¤å€éŸ³é‡æ—¶åˆ™è¾“å…¥512ï¼Œä¾æ­¤ç±»æ¨ã€‚ï¼‰</li>
</ul>
<h2 id="_4">å¸¸ç”¨å‘½ä»¤</h2>
<h3 id="_5">æŸ¥çœ‹åª’ä½“ä¿¡æ¯</h3>
<pre><code class="language-shell">ffprobe xxx.xx
ffmpeg -i xxx.xx
</code></pre>
<h3 id="_6">æ’­æ”¾åª’ä½“æ–‡ä»¶</h3>
<pre><code class="language-shell">ffplay xxxx.æ–‡ä»¶æ ¼å¼

ffplay xxx.mp4
</code></pre>
<h3 id="_7">ä¸‹è½½ç½‘ç»œåª’ä½“åˆ°æœ¬åœ°</h3>
<pre><code class="language-shell">ffmpeg -i http://file.52lishi.com/file/yinxiao/ly-17-12-16-06.mp3 laosiji.aac
</code></pre>
<h3 id="_8">è½¬æ¢åª’ä½“æ ¼å¼</h3>
<pre><code class="language-shell">ffmpeg -i æºåª’ä½“ è¾“å‡ºåª’ä½“
</code></pre>
<pre><code class="language-shell">ffmpeg -i chailao.mp4 chailao.ts
</code></pre>
<p><code>.ts</code>ï¼šTSæ˜¯ transport Streamçš„ç¼©å†™é€šå¸¸ç§°ä¸ºç æµæ–‡ä»¶, TSæ–‡ä»¶æ˜¯æœ€eåŸå§‹çš„éŸ³é¢‘è§†é¢‘å®¹å™¨,æ²¡æœ‰ç»è¿‡å…¶ä»–ç®—æ³•çš„å‹ç¼©æ‰€ä»¥ä¸€èˆ¬ä¼šå¾ˆå¤§,è¿™è·Ÿå½“æ—¶æ’­æ”¾çš„æºæ–‡ä»¶çš„æƒ…å†µ,æ¯”å¦‚æ¯”ç‰¹ç‡ä»€ä¹ˆçš„.</p>
<h3 id="_9">è£å‰ªåª’ä½“æ–‡ä»¶</h3>
<pre><code class="language-shell">ffmpeg -i æºåª’ä½“ -ss 00:00:20 -t 10 -c copy è¾“å‡ºåª’ä½“
</code></pre>
<pre><code class="language-shell">ffmpeg -i chailao.mp4 -ss 00:02:08 -t 7 -c copy chailao_split.mp4
</code></pre>
<p><code>-c</code>ï¼šä¹Ÿå°±æ˜¯<code>codec</code>(ç¼–ç )ï¼Œ<code>copy</code>æŒ‡å®šå’Œæºåª’ä½“ä½¿ç”¨åŒæ ·çš„é…ç½®(å…ƒæ•°æ®)</p>
<h3 id="gif">è§†é¢‘è½¬gif</h3>
<pre><code class="language-shell">ffmpeg -i æºåª’ä½“ xxx.gif
</code></pre>
<pre><code class="language-shell">ffmpeg -i chailao_split.mp4 chailao.gif
</code></pre>
<p>è¿™ä¸ªè·Ÿä¸Šé¢çš„è½¬æ¢åª’ä½“æ ¼å¼å…¶å®æ˜¯ä¸€ä¸ªã€‚</p>
<h3 id="_10">ä»è§†é¢‘æ–‡ä»¶æˆªå–ä¸€å¸§è½¬ä¸ºå›¾ç‰‡</h3>
<pre><code class="language-shell">ffmpeg -i æºåª’ä½“ -ss å¼€å§‹æ—¶é—´ -s å®½xé«˜ -vframes å¸§æ•° -f image2 è¾“å‡ºæ–‡ä»¶
</code></pre>
<pre><code class="language-shell">ffmpeg -i chailao.mp4 -ss 00:02:08 -s 300x300 -vframes 1 -f image2 frame.png
</code></pre>
<h3 id="gif_1">å°†ä¸€ç³»åˆ—å›¾ç‰‡åˆæˆgif</h3>
<pre><code class="language-shell">ffmpeg -i xxx_%d.png -r å¸§æ•° xxx.gif
</code></pre>
<pre><code class="language-shell">ffmpeg -i frame%d.png -r 25 frame.gif
</code></pre>
<p><code>-f</code>ï¼šè®¾ç½®å¸§æ•°</p>
<h3 id="_11">åˆ†ç¦»è§†é¢‘éŸ³é¢‘æµ</h3>
<pre><code class="language-shell">ffmpeg -i input_file -vcodec copy -an output_file_video    //åˆ†ç¦»å‡ºè§†é¢‘æµ
ffmpeg -i input_file -acodec copy -vn output_file_audio    //åˆ†ç¦»å‡ºéŸ³é¢‘æµ
</code></pre>
<p><code>-an</code>ï¼šä¸è¦éŸ³é¢‘æµ</p>
<p><code>-vn</code>ï¼šä¸è¦è§†é¢‘æµ</p>
<pre><code class="language-shell">ffmpeg -i chailao.mp4 -vcodec copy -an chailao_without_audio.mp4
ffmpeg -i chailao.mp4 -acodec copy -vn chailao_without_video.mp4
</code></pre>
<h3 id="_12">å°†è§†é¢‘å’ŒéŸ³é¢‘åˆå¹¶</h3>
<pre><code class="language-shell">ffmpeg -i video_file -i audio_file -vcodec copy -acodec copy output_file
</code></pre>
<p><code>-vcodec</code>ï¼šè§†é¢‘ç¼–ç å™¨</p>
<p><code>-acodec</code>ï¼šéŸ³é¢‘ç¼–ç å™¨</p>
<pre><code class="language-shell">ffmpeg -i chailao_without_audio.mp4 -i chailao_without_video.mp4 -vcodec copy -acodec copy chailao_merge.mp4
</code></pre>
<h3 id="_13">éŸ³è§†é¢‘å€’æ”¾</h3>
<pre><code class="language-shell">//è§†é¢‘å€’æ”¾
ffmpeg -i input-file.mp4 -vf reverse output.mp4r
</code></pre>
<pre><code class="language-shell">//éŸ³è§†é¢‘éƒ½å€’æ”¾
ffmpeg -i input-file.mp4 -vf reverse -af areverse output.mp4
</code></pre>
<pre><code class="language-shell">ffmpeg -i chailao.mp4 -vf reverse reverse_video.mp4
//
ffmpeg -i chailao.mp4 -vf reverse -af areverse reverse_video_audio.mp4
</code></pre>
<h2 id="_14">éŸ³è§†é¢‘ç¼–è§£ç æµç¨‹</h2>
<p><img alt="" src="../imgs/ffmpeg_flow.png" /></p>
<h2 id="_15">å¸¸ç”¨ç»“æ„ä½“ä»‹ç»</h2>
<p><code>ffmpeg</code>æºç æ˜¯åŸºäº<code>cè¯­è¨€</code>å†™çš„ï¼Œæ‰€ä»¥æˆ‘ä»¬å¦‚æœæ˜¯ä¸ç”¨è°ƒç”¨å‘½ä»¤ï¼Œè‡ªå·±å†™ä»£ç å®ç°ç›¸åº”çš„åŠŸèƒ½ï¼Œäº†è§£å…¶å®šä¹‰å¥½çš„<code>ç»“æ„ä½“</code>è‡³å…³é‡è¦ã€‚</p>
<h3 id="avformatcontext">AVFormatContext</h3>
<p><code>AVFormatContext</code>æ˜¯éŸ³è§†é¢‘æ–‡ä»¶çš„ä¸€ç§æŠ½è±¡å’Œå°è£…ï¼Œè¯¥ç»“æ„ä½“ä¸­åŒ…å«äº†å¤šè·¯æµï¼š<code>éŸ³é¢‘æµ</code>ã€<code>è§†é¢‘æµ</code>ã€<code>å­—å¹•æµç­‰</code>,</p>
<p>æ˜¯FFmpegä¸­ä¸€ä¸ªè´¯ç©¿å…¨å±€çš„æ•°æ®ç»“æ„ï¼Œå¾ˆå¤šå‡½æ•°éƒ½è¦ä»¥å®ƒä¸ºå‚æ•°ã€‚</p>
<pre><code class="language-c">typedef struct AVFormatContext {
    struct AVInputFormat *iformat; //è¾“å…¥å®¹å™¨æ ¼å¼,ç”¨äºåˆ†æµ,é€šè¿‡avformat_open_input()è®¾ç½®
    struct AVOutputFormat *oformat; //è¾“å‡ºå®¹å™¨æ ¼å¼,ç”¨äºæ··æµ,å¿…é¡»åœ¨avformat_write_header()è°ƒç”¨å‰è®¾ç½®
    AVIOContext *pb;  // I/O ä¸Šä¸‹æ–‡
    unsigned int nb_streams; // æµçš„æ€»æ•°
    AVStream **streams; //æ‰€æœ‰æµçš„åˆ—è¡¨,ç”±avformat_new_stream()åˆ›å»ºæ–°çš„æµ
    int64_t duration; //æµçš„æ—¶é•¿
    int64_t bit_rate; //æµçš„æ¯”ç‰¹ç‡
    int64_t probesize; //ä»æŒ‡å®šå®¹å™¨æ ¼å¼çš„è¾“å…¥ä¸­è¯»å–æœ€å¤§æ•°æ®çš„å¤§å°,è¦è¶³å¤Ÿèµ·æ’­é¦–å¸§ç”»é¢
    int64_t max_analyze_duration; //ä»æŒ‡å®šå®¹å™¨æ ¼å¼çš„è¾“å…¥ä¸­è¯»å–çš„æœ€å¤§æ•°æ®æ—¶é•¿
    enum AVCodecID video_codec_id; // è§†é¢‘çš„codec_id
    enum AVCodecID audio_codec_id; // éŸ³é¢‘çš„codec_id
    enum AVCodecID subtitle_codec_id; // å­—å¹•çš„codec_id
    unsigned int max_index_size; // æ¯æ¡æµçš„æœ€å¤§å†…å­˜å­—èŠ‚æ•°
    unsigned int max_picture_buffer; //ä»è®¾å¤‡è·å–çš„å®æ—¶å¸§ç¼“å†²çš„æœ€å¤§å†…å­˜å¤§å°
    AVDictionary *metadata; // æ•´ä¸ªæ–‡ä»¶çš„å…ƒæ•°æ®
   .....
}AVFormatContext;
</code></pre>
<h3 id="avinputformat">AVInputFormat</h3>
<p>FFmpegçš„è§£å¤ç”¨å™¨å¯¹è±¡ï¼Œè¡¨ç¤ºè¾“å…¥æ–‡ä»¶å®¹å™¨æ ¼å¼ï¼Œä¸€ä¸ªæ–‡ä»¶å®¹å™¨æ ¼å¼å¯¹åº”ä¸€ä¸ªAVInputFormatç»“æ„ï¼Œåœ¨ç¨‹åºè¿è¡Œæ—¶æœ‰å¤šä¸ªå®ä¾‹ã€‚</p>
<h3 id="avcodeccontext">AVCodecContext</h3>
<p>æè¿°ç¼–è§£ç å™¨ä¸Šä¸‹æ–‡çš„æ•°æ®ç»“æ„ï¼ŒåŒ…å«ä¼—å¤šç¼–è§£ç å™¨éœ€è¦çš„å‚æ•°ä¿¡æ¯ã€‚</p>
<h3 id="avcodec">AVCodec</h3>
<p>å­˜å‚¨ç¼–è§£ç å™¨ä¿¡æ¯çš„ç»“æ„ä½“ã€‚</p>
<h3 id="avstream">AVStream</h3>
<p>å­˜å‚¨æ¯ä¸€ä¸ªè§†é¢‘/éŸ³é¢‘æµä¿¡æ¯çš„ç»“æ„ä½“ï¼Œä½¿ç”¨è§£å¤ç”¨å™¨ä»å®¹å™¨ä¸­è§£æå‡ºä¸åŒçš„æµï¼Œåœ¨FFmpegä¸­æµçš„å¯¹è±¡å°±æ˜¯<code>AVStream</code>ï¼Œä¿å­˜åœ¨<code>AVFormatContext</code>çš„<code>streams</code>æ•°ç»„ä¸­ã€‚</p>
<h3 id="avpacket">AVPacket</h3>
<p><code>AVPacket</code>ä¿å­˜çš„æ˜¯<code>è§£å¤ç”¨ä¹‹å-è¿˜æ²¡è§£ç ä¹‹å‰</code>çš„æ•°æ®ï¼ˆä»ç„¶æ˜¯å‹ç¼©åçš„æ•°æ®ï¼‰å’Œå…³äºè¿™äº›æ•°æ®çš„ä¸€äº›é™„åŠ ä¿¡æ¯ã€‚</p>
<h3 id="avframe">AVFrame</h3>
<p>ç”¨æ¥æè¿°<code>è§£ç å</code>çš„éŸ³è§†é¢‘æ•°æ®ï¼Œå¿…é¡»ä½¿ç”¨<code>av_frame_alloc</code>åˆ†é…ï¼Œ<code>av_frame_free</code>é‡Šæ”¾ã€‚</p>
<h2 id="_16">å¸¸ç”¨æ–¹æ³•ä»‹ç»</h2>
<h3 id="av_register_all">av_register_all</h3>
<p>åˆå§‹åŒ–æ‰€æœ‰ç»„ä»¶ï¼Œåªæœ‰è°ƒç”¨äº†è¯¥å‡½æ•°ï¼Œæ‰èƒ½ä½¿ç”¨å¤ç”¨å™¨å’Œç¼–è§£ç å™¨(<code>FFmpeg4.0</code>ä»¥ä¸Šè¢«åºŸå¼ƒï¼Œä¸æ¨èä½¿ç”¨ï¼Œå¯ä»¥ä¸è°ƒç”¨)</p>
<h3 id="avformat_alloc_context">avformat_alloc_context</h3>
<p><code>AVFormatContext</code>ç»“æ„ä½“è¦ç”¨<code>avformat_alloc_context()</code>å‡½æ•°è¿›è¡Œåˆå§‹åŒ–ï¼Œåˆ†é…å†…å­˜ç©ºé—´ã€‚</p>
<h3 id="avformat_open_input">avformat_open_input</h3>
<pre><code class="language-c">int avformat_open_input(AVFormatContext **ps, const char *url, AVInputFormat *fmt, AVDictionary **options);
</code></pre>
<p>æ‰“å¼€ä¸€ä¸ªæ–‡ä»¶ï¼Œè¯»å–<code>header</code>ï¼Œä¸ä¼šæ¶‰åŠæ‰“å¼€è§£ç å™¨ï¼Œä¸ä¹‹å¯¹åº”çš„æ˜¯<code>avformat_close_input()</code>å‡½æ•°å…³é—­æ–‡ä»¶ã€‚å¦‚æœæ‰“å¼€æ–‡ä»¶æˆåŠŸï¼Œ<code>AVFormatContext psæŒ‡é’ˆ</code>å°±ä¼šåœ¨å‡½æ•°ä¸­åˆå§‹åŒ–å®Œæˆã€‚</p>
<h3 id="av_guess_format">av_guess_format</h3>
<pre><code class="language-c">AVOutputFormat *av_guess_format(const char *short_name,
                                const char *filename,
                                const char *mime_type);
</code></pre>
<p>ä»æ‰€ç¼–è¯‘çš„ffmpegåº“æ”¯æŒçš„<code>muxeråº“</code>ä¸­æŸ¥æ‰¾ä¸<code>æ–‡ä»¶åç¼€å</code>æœ‰å…³è”çš„å®¹å™¨ç±»å‹ã€‚</p>
<h3 id="avformat_new_stream">avformat_new_stream</h3>
<pre><code class="language-c">AVStream *avformat_new_stream(AVFormatContext *s, const AVCodec *c);
</code></pre>
<p>åœ¨ <code>AVFormatContext</code>ä¸­åˆ›å»ºæ–°çš„<code>Stream</code> æµé€šé“ã€‚</p>
<h3 id="av_read_frame">av_read_frame</h3>
<pre><code class="language-c">int av_read_frame(AVFormatContext *s, AVPacket *pkt);
</code></pre>
<p>è¯»å–<code>ç æµ</code>ä¸­çš„è‹¥å¹²éŸ³é¢‘å¸§æˆ–è€…1å¸§è§†é¢‘ã€‚</p>
<h3 id="av_write_frame">av_write_frame</h3>
<p>FFmpegå…ˆè°ƒç”¨<code>avformat_write_header()</code>å‡½æ•°å†™å¤´éƒ¨ä¿¡æ¯ï¼Œä¸­é—´å¾ªç¯è°ƒç”¨<code>av_write_frame()</code>å‡½æ•°å†™å…¥å¸§æ•°æ®ï¼Œæœ€åè°ƒç”¨<code>av_write_trailer()</code>å†™å°¾éƒ¨ä¿¡æ¯æ ‡å¿—ä¸€ä¸ªç¼–ç æ“ä½œå®Œæˆã€‚</p>
<h2 id="_17">ä»£ç ç¤ºä¾‹</h2>
<pre><code class="language-c">/ffmpeg/doc/example/encode_video.c
</code></pre>
<pre><code class="language-shell"> /usr/local/opt/ffmpeg/includef'f

 clang -g -o encode_video encode_video.c -I/usr/local/Cellar/ffmpeg/4.1.4_2/include `pkg-config --libs libavcodec libavutil`

 ./encode_video encode.mp4 mpeg1video
</code></pre>
              
            </div>
          </div><footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="Footer Navigation">
        <a href="../%E6%9E%81%E5%AE%A2%E6%97%B6%E9%97%B4%20TensorFlow/" class="btn btn-neutral float-left" title="æå®¢æ—¶é—´ TensorFlow"><span class="icon icon-circle-arrow-left"></span> Previous</a>
        <a href="../../%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/01.%E7%BA%BF%E6%80%A7%E8%A1%A8-list/" class="btn btn-neutral float-right" title="çº¿æ€§è¡¨-List">Next <span class="icon icon-circle-arrow-right"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
  </div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
          
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="Versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
        <span>
          <a href="https://github.com/simplepeng/KeepLearning/" class="fa fa-github" style="color: #fcfcfc"> GitHub</a>
        </span>
    
    
      <span><a href="../%E6%9E%81%E5%AE%A2%E6%97%B6%E9%97%B4%20TensorFlow/" style="color: #fcfcfc">&laquo; Previous</a></span>
    
    
      <span><a href="../../%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/01.%E7%BA%BF%E6%80%A7%E8%A1%A8-list/" style="color: #fcfcfc">Next &raquo;</a></span>
    
  </span>
</div>
    <script>var base_url = '../..';</script>
    <script src="../../js/theme_extra.js" defer></script>
    <script src="../../js/theme.js" defer></script>
      <script src="../../search/main.js" defer></script>
    <script defer>
        window.onload = function () {
            SphinxRtdTheme.Navigation.enable(true);
        };
    </script>

</body>
</html>
